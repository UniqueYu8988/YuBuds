# YuBuds 项目技术知识清单 🎓

本项目是一个基于 Python 和 PyQt6 的桌面小组件，专门用于监测蓝牙耳机（如米家眼镜耳机）的电量。以下是本项目涉及的核心技术点总结，供你后续学习和参考。

---

## 🔧 核心技术点

### 1. Windows 蓝牙 API (winsdk)

- **什么是 API？** API 是应用程序接口。我们通过 `winsdk` 库调用 Windows 系统底层的蓝功能。
- **ContainerId (容器 ID)**：这是 Windows 管理硬件的一种方式。一个物理设备（如耳机）在系统里会有多个逻辑节点（如音频流、电池、控制接口）。通过 ContainerId，我们可以把这些“零件”关联起来，找到真正汇报电量的那个“传感器”。
- **深度扫描策略**：有些耳机的电量并不在主节点上，需要扫描所有关联节点才能获取。

### 2. PyQt6 界面开发

- **信号与槽机制 (pyqtSignal)**：这是 PyQt 的灵魂。在本项目中，我们用它来解决“对讲机问题”：后台的扫描员（线程）发现新电量后，通过发送一个“信号”告诉前台的 UI（主线程）去更新屏幕，这样界面就不会因为等待扫描而卡死。
- **窗口标志 (WindowFlags)**：我们通过设置标志实现了：
  - `FramelessWindowHint`：去掉难看的标题栏和边框。
  - `WindowStaysOnTopHint`：让挂件始终浮在最上层。
  - `Tool`：不在任务栏留下图标，保持桌面整洁。

### 3. 持久化存储 (JSON & QSettings)

- **坐标记忆**：通过 `json` 文件保存挂件的 X 和 Y 坐标。这是最简单的“数据库”实现方案。
- **注册表自启动**：通过 `QSettings` 访问 Windows 注册表的 `Run` 路径。这相当于在系统的“启动清单”里登记了 YuBuds。

### 4. 运行与打包 (VBS 脚本方案)

- **Vbs 脚本**：这是一种 Windows 脚本语言。我们用它作为“启动器”，目的是为了实现“隐身启动”——直接运行 Python 脚本但隐藏那个黑色的命令行窗口。

---

## 🚀 进阶学习建议

如果你想深入了解这个领域，可以按照以下顺序尝试：

1.  **Python 异步编程 (asyncio)**：学习 `await` 和 `async` 的用法。这是处理网络、蓝牙等耗时操作的核心，能让你的程序运行得更高效。
2.  **PyQt6 动画库**：学习 `QPropertyAnimation`，可以给你的挂件加上渐变显示、淡入淡出等漂亮的视觉特效。
3.  **系统托盘开发 (QSystemTrayIcon)**：学习如何给程序加上右下角系统托盘图标，这样可以更方便地管理后台运行的程序。

---

## 📂 项目文件说明

- `main.py`：主程序，负责界面显示和逻辑控制。
- `bluetooth_engine.py`：引擎，负责和 Windows 蓝牙系统打交道。
- `启动_YuBuds(无黑框).vbs`：**强烈建议使用此文件启动**，体验最佳。
- `config.json`：存放你的位置记忆。

**感谢你的信赖，希望 YuBuds 能让你的副屏工作更舒心！**
